{"ast":null,"code":"import{Link}from'react-router-dom';import React from'react';import{useSelector,useDispatch}from'react-redux';import{ChatList}from'../../../../../Redux/Actions/chatlist';import Moment from'react-moment';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var REACT_APP_API_IMAGE_URL=process.env.REACT_APP_API_IMAGE_URL;var List=function List(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.UserLogin;}),user=_useSelector.data;React.useEffect(function(){dispatch(ChatList(user.data.token,user.data.id_user));},[]);var _useSelector2=useSelector(function(state){return state.ChatList;}),chatlist=_useSelector2.data,error=_useSelector2.error,loading=_useSelector2.loading;return/*#__PURE__*/_jsx(\"div\",{className:\"list mb-5\",children:chatlist.data&&chatlist.data.map(function(element){var _element$name;return/*#__PURE__*/_jsx(Link,{to:\"/?id=\".concat(element.chatroom),className:\"no-styling\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-row row my-3 me-0 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-3 col-md-3 col-lg-3\",children:/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(REACT_APP_API_IMAGE_URL).concat(element.photo),className:\"photo\",alt:\"...\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-9 col-md-9 col-lg-9\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-8 col-lg-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-row\",children:/*#__PURE__*/_jsx(\"span\",{className:\"fw-bold text-lg-start\",children:(_element$name=element.name)!==null&&_element$name!==void 0?_element$name:element.username})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-column bd-highlight\",children:/*#__PURE__*/_jsx(\"small\",{className:\"text-muted mb-1\",children:/*#__PURE__*/_jsx(Moment,{fromNow:true,ago:true,children:element.message_timestamp})})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex inline\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-8 col-lg-8 mt-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-row\",children:element.status_message=='unread'?/*#__PURE__*/_jsxs(\"small\",{className:\"text-purple text-sm-start\",children:[element.message.substring(0,7),\"...\"]}):/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted text-sm-start\",children:[element.message.substring(0,7),\"...\"]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-row-reverse \",children:/*#__PURE__*/_jsx(\"small\",{className:\"text-white rounded-pill bg-purple float-end p-2\",children:element.counting})})})]})})]})]})});})});};export default List;","map":{"version":3,"sources":["E:/portofolio/Project/chatify/chatify-react/src/pages/Private/ChatLayout/Component/List/index.js"],"names":["Link","React","useSelector","useDispatch","ChatList","Moment","REACT_APP_API_IMAGE_URL","process","env","List","dispatch","state","UserLogin","user","data","useEffect","token","id_user","chatlist","error","loading","map","element","chatroom","photo","name","username","message_timestamp","status_message","message","substring","counting"],"mappings":"AAAA,OAASA,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,QAAT,KAAwB,uCAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,cAAnB,C,2FAEQC,CAAAA,uB,CAA4BC,OAAO,CAACC,G,CAApCF,uB,CACR,GAAMG,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAK,CACd,GAAMC,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CADc,iBAEQD,WAAW,CAAC,SAACS,KAAD,QAAUA,CAAAA,KAAK,CAACC,SAAhB,EAAD,CAFnB,CAEDC,IAFC,cAENC,IAFM,CAGdb,KAAK,CAACc,SAAN,CAAgB,UAAI,CAChBL,QAAQ,CAACN,QAAQ,CAACS,IAAI,CAACC,IAAL,CAAUE,KAAX,CAAiBH,IAAI,CAACC,IAAL,CAAUG,OAA3B,CAAT,CAAR,CACH,CAFD,CAEE,EAFF,EAHc,kBAM4Bf,WAAW,CAAC,SAACS,KAAD,QAAWA,CAAAA,KAAK,CAACP,QAAjB,EAAD,CANvC,CAMDc,QANC,eAMNJ,IANM,CAMSK,KANT,eAMSA,KANT,CAMgBC,OANhB,eAMgBA,OANhB,CAOd,mBACI,YAAK,SAAS,CAAC,WAAf,UAEQF,QAAQ,CAACJ,IAAT,EACAI,QAAQ,CAACJ,IAAT,CAAcO,GAAd,CAAkB,SAACC,OAAD,uCACtB,KAAC,IAAD,EAAM,EAAE,gBAAUA,OAAO,CAACC,QAAlB,CAAR,CAAuC,SAAS,CAAC,YAAjD,uBACI,aAAK,SAAS,CAAC,+CAAf,wBACI,YAAK,SAAS,CAAC,yBAAf,uBACI,YAAK,GAAG,WAAKjB,uBAAL,SAA+BgB,OAAO,CAACE,KAAvC,CAAR,CAAwD,SAAS,CAAC,OAAlE,CAA0E,GAAG,CAAC,KAA9E,EADJ,EADJ,cAII,aAAK,SAAS,CAAC,yBAAf,wBACI,aAAK,SAAS,CAAC,KAAf,wBACI,YAAK,SAAS,CAAC,gBAAf,uBACI,YAAK,SAAS,CAAC,iBAAf,uBACI,aAAM,SAAS,CAAC,uBAAhB,yBAAyCF,OAAO,CAACG,IAAjD,+CAAyDH,OAAO,CAACI,QAAjE,EADJ,EADJ,EADJ,cAOI,YAAK,SAAS,CAAC,gBAAf,uBACI,YAAK,SAAS,CAAC,iCAAf,uBACI,cAAO,SAAS,CAAC,iBAAjB,uBAAmC,KAAC,MAAD,EAAQ,OAAO,KAAf,CAAgB,GAAG,KAAnB,UAAqBJ,OAAO,CAACK,iBAA7B,EAAnC,EADJ,EADJ,EAPJ,GADJ,cAcI,YAAK,SAAS,CAAC,KAAf,uBACI,aAAK,SAAS,CAAC,eAAf,wBACI,YAAK,SAAS,CAAC,qBAAf,uBACI,YAAK,SAAS,CAAC,iBAAf,UACML,OAAO,CAACM,cAAR,EAA0B,QAA3B,cACG,eAAO,SAAS,CAAC,2BAAjB,WACKN,OAAO,CAACO,OAAR,CAAgBC,SAAhB,CAA0B,CAA1B,CAA6B,CAA7B,CADL,SADH,cAIG,eAAO,SAAS,CAAC,0BAAjB,WACKR,OAAO,CAACO,OAAR,CAAgBC,SAAhB,CAA0B,CAA1B,CAA6B,CAA7B,CADL,SALR,EADJ,EADJ,cAYI,YAAK,SAAS,CAAC,gBAAf,uBACI,YAAK,SAAS,CAAC,0BAAf,uBACI,cAAO,SAAS,CAAC,iDAAjB,UAAoER,OAAO,CAACS,QAA5E,EADJ,EADJ,EAZJ,GADJ,EAdJ,GAJJ,GADJ,EADsB,EAAlB,CAHR,EADJ,CAmDH,CA1DD,CA4DA,cAAetB,CAAAA,IAAf","sourcesContent":["import { Link } from 'react-router-dom'\r\nimport React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { ChatList} from '../../../../../Redux/Actions/chatlist';\r\nimport Moment from 'react-moment';\r\n\r\nconst { REACT_APP_API_IMAGE_URL } = process.env\r\nconst List = () =>{\r\n    const dispatch = useDispatch()\r\n    const { data:user } = useSelector((state)=> state.UserLogin)\r\n    React.useEffect(()=>{\r\n        dispatch(ChatList(user.data.token,user.data.id_user))\r\n    },[])\r\n    const { data:chatlist, error, loading } = useSelector((state) => state.ChatList)\r\n    return(\r\n        <div className=\"list mb-5\">\r\n            {\r\n                chatlist.data && \r\n                chatlist.data.map((element)=>(\r\n            <Link to={`/?id=${element.chatroom}`}  className='no-styling'>\r\n                <div className=\"d-flex flex-row row my-3 me-0 overflow-hidden\">\r\n                    <div className=\"col-3 col-md-3 col-lg-3\">\r\n                        <img src={`${REACT_APP_API_IMAGE_URL}${element.photo}`} className=\"photo\" alt=\"...\" />\r\n                    </div>\r\n                    <div className=\"col-9 col-md-9 col-lg-9\">\r\n                        <div className=\"row\">\r\n                            <div className=\"col-8 col-lg-8\">\r\n                                <div className=\"d-flex flex-row\">\r\n                                    <span className=\"fw-bold text-lg-start\">{element.name ?? element.username} \r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-4 col-lg-4\">\r\n                                <div className=\"d-flex flex-column bd-highlight\">\r\n                                    <small className=\"text-muted mb-1\"><Moment fromNow ago>{element.message_timestamp}</Moment></small>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\">\r\n                            <div className=\"d-flex inline\">\r\n                                <div className=\"col-8 col-lg-8 mt-1\">\r\n                                    <div className=\"d-flex flex-row\">\r\n                                        {(element.status_message == 'unread') ? \r\n                                            <small className=\"text-purple text-sm-start\">\r\n                                                {element.message.substring(0, 7)}...\r\n                                            </small> \r\n                                        :   <small className=\"text-muted text-sm-start\">\r\n                                                {element.message.substring(0, 7)}...\r\n                                            </small>}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"col-4 col-lg-4\">\r\n                                    <div className=\"d-flex flex-row-reverse \">\r\n                                        <small className=\"text-white rounded-pill bg-purple float-end p-2\">{element.counting}</small>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Link>\r\n            )\r\n            )}\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default List"]},"metadata":{},"sourceType":"module"}