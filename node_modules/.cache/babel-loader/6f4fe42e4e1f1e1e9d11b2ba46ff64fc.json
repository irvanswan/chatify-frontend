{"ast":null,"code":"import axios from 'axios';\n\nconst GetMessageRequest = () => {\n  return {\n    type: 'GET_MESSAGE_REQUEST'\n  };\n};\n\n_c = GetMessageRequest;\n\nconst GetMessageSuccess = data => {\n  return {\n    type: 'GET_MESSAGE_SUCCESS',\n    payload: data\n  };\n};\n\n_c2 = GetMessageSuccess;\n\nconst GetMessageError = err => {\n  return {\n    type: 'GET_MESSAGE_ERROR',\n    payload: err\n  };\n};\n\n_c3 = GetMessageError;\nexport const GetMessage = (userToken, id, id_user) => {\n  return dispatch => {\n    dispatch(GetMessageRequest());\n    return axios.get(`${process.env.REACT_APP_API_URL}message/?id_chatroom=${id}&id_user=${id_user}`, {\n      headers: {\n        'user-token': userToken\n      }\n    }).then(res => {\n      dispatch(GetMessageSuccess(res.data.data));\n    }).catch(err => {\n      dispatch(GetMessageError(err.message));\n    });\n  };\n};\n_c4 = GetMessage;\n\nconst SendMessageRequest = () => {\n  return {\n    type: 'SEND_MESSAGE_REQUEST'\n  };\n};\n\n_c5 = SendMessageRequest;\n\nconst SendMessageSuccess = data => {\n  return {\n    type: 'SEND_MESSAGE_SUCCESS',\n    payload: data\n  };\n};\n\n_c6 = SendMessageSuccess;\n\nconst SendMessageError = err => {\n  return {\n    type: 'SEND_MESSAGE_ERROR',\n    payload: err\n  };\n};\n\n_c7 = SendMessageError;\nexport const SendMessage = (userToken, id_chatroom, id_participiant, formData) => {\n  return dispatch => {\n    console.log('ini dari redux', formData);\n    dispatch(SendMessageRequest());\n    return axios({\n      method: 'POST',\n      url: `${process.env.REACT_APP_API_URL}message/:${id_participiant}?id_chatroom=${id_chatroom}&id_sender=${id_participiant}`,\n      headers: {\n        'user-token': userToken\n      },\n      data: formData\n    }).then(res => {\n      console.log(formData);\n      dispatch(SendMessageSuccess(res.data));\n    }).catch(err => {\n      console.log(err.response);\n      SendMessageError(err);\n    });\n  };\n};\n_c8 = SendMessage;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n\n$RefreshReg$(_c, \"GetMessageRequest\");\n$RefreshReg$(_c2, \"GetMessageSuccess\");\n$RefreshReg$(_c3, \"GetMessageError\");\n$RefreshReg$(_c4, \"GetMessage\");\n$RefreshReg$(_c5, \"SendMessageRequest\");\n$RefreshReg$(_c6, \"SendMessageSuccess\");\n$RefreshReg$(_c7, \"SendMessageError\");\n$RefreshReg$(_c8, \"SendMessage\");","map":{"version":3,"sources":["E:/portofolio/Project/chatify/chatify-react/src/Redux/Actions/message.js"],"names":["axios","GetMessageRequest","type","GetMessageSuccess","data","payload","GetMessageError","err","GetMessage","userToken","id","id_user","dispatch","get","process","env","REACT_APP_API_URL","headers","then","res","catch","message","SendMessageRequest","SendMessageSuccess","SendMessageError","SendMessage","id_chatroom","id_participiant","formData","console","log","method","url","response"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\n\r\nconst GetMessageRequest = () => {return {type: 'GET_MESSAGE_REQUEST'}}\r\nconst GetMessageSuccess = (data) => {return {type : 'GET_MESSAGE_SUCCESS', payload : data}}\r\nconst GetMessageError = (err) => {return{type : 'GET_MESSAGE_ERROR',payload : err}}\r\n\r\nexport const GetMessage = (userToken, id, id_user)=>{\r\n    return (dispatch) => {\r\n        dispatch(GetMessageRequest())\r\n        return axios.get(`${process.env.REACT_APP_API_URL}message/?id_chatroom=${id}&id_user=${id_user}`,{\r\n            headers: {\r\n                'user-token': userToken\r\n            }\r\n        }).then((res) => {\r\n            dispatch(GetMessageSuccess(res.data.data))\r\n        }).catch((err) => {\r\n            dispatch(GetMessageError(err.message))\r\n        })   \r\n    }\r\n}\r\n\r\nconst SendMessageRequest = () => {return {type: 'SEND_MESSAGE_REQUEST'}}\r\nconst SendMessageSuccess = (data) => {return {type : 'SEND_MESSAGE_SUCCESS', payload : data}}\r\nconst SendMessageError = (err) => {return{type : 'SEND_MESSAGE_ERROR',payload : err}}\r\n\r\nexport const SendMessage = (userToken, id_chatroom,id_participiant,formData)=>{\r\n    return (dispatch)=>{\r\n        console.log('ini dari redux', formData)\r\n        dispatch(SendMessageRequest())\r\n        return axios({\r\n            method: 'POST',\r\n            url: `${process.env.REACT_APP_API_URL}message/:${id_participiant}?id_chatroom=${id_chatroom}&id_sender=${id_participiant}`,\r\n            headers : {\r\n                'user-token': userToken\r\n            },\r\n            data : formData\r\n        }).then((res)=>{\r\n            console.log(formData)\r\n            dispatch(SendMessageSuccess(res.data))\r\n        }).catch((err)=>{\r\n            console.log(err.response)\r\n            SendMessageError(err)\r\n        })\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}