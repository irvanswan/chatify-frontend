{"ast":null,"code":"import axios from 'axios';\n\nconst GetMessageRequest = () => {\n  return {\n    type: 'GET_MESSAGE_REQUEST'\n  };\n};\n\n_c = GetMessageRequest;\n\nconst GetMessageSuccess = data => {\n  return {\n    type: 'GET_MESSAGE_SUCCESS',\n    payload: data\n  };\n};\n\n_c2 = GetMessageSuccess;\n\nconst GetMessageError = err => {\n  return {\n    type: 'GET_MESSAGE_ERROR',\n    payload: err\n  };\n};\n\n_c3 = GetMessageError;\nexport const GetMessage = (userToken, id) => {\n  return dispatch => {\n    dispatch(GetMessageRequest());\n    return axios.get(`${process.env.REACT_APP_API_URL}message/?id_chatroom=${id}`, {\n      headers: {\n        'user-token': userToken\n      }\n    }).then(res => {\n      dispatch(GetMessageSuccess(res.data.data));\n    }).catch(err => {\n      dispatch(GetMessageError(err.message));\n    });\n  };\n};\n_c4 = GetMessage;\n\nconst SendMessageRequest = () => {\n  return {\n    type: 'SEND_MESSAGE_REQUEST'\n  };\n};\n\n_c5 = SendMessageRequest;\n\nconst SendMessageSuccess = data => {\n  return {\n    type: 'SEND_MESSAGE_SUCCESS',\n    payload: data\n  };\n};\n\n_c6 = SendMessageSuccess;\n\nconst SendMessageError = err => {\n  return {\n    type: 'SEND_MESSAGE_ERROR',\n    payload: err\n  };\n};\n\n_c7 = SendMessageError;\nexport const SendMessage = (userToken, id_chatroom, id_participiant, formData) => {\n  return dispatch => {\n    dispatch(SendMessageRequest());\n    return axios({\n      method: 'POST',\n      url: `${process.env.REACT_APP_API_URL}message/:${id_participiant}?id_chatroom=${id_chatroom}&id_sender=${id_participiant}`,\n      headers: {\n        'user-token': userToken\n      },\n      data: formData\n    }).then(res => {\n      console.log(formData);\n      dispatch(SendMessageSuccess(res.data));\n    }).catch(err => {\n      console.log(err.response);\n      SendMessageError(err);\n    });\n  };\n};\n_c8 = SendMessage;\n\nconst GetInfoUserRequest = () => {\n  return {\n    type: 'GET_MESSAGE_REQUEST'\n  };\n};\n\n_c9 = GetInfoUserRequest;\n\nconst GetInfoUserSuccess = data => {\n  return {\n    type: 'GET_MESSAGE_SUCCESS',\n    payload: data\n  };\n};\n\n_c10 = GetInfoUserSuccess;\n\nconst GetInfoUserError = err => {\n  return {\n    type: 'GET_MESSAGE_ERROR',\n    payload: err\n  };\n};\n\n_c11 = GetInfoUserError;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11;\n\n$RefreshReg$(_c, \"GetMessageRequest\");\n$RefreshReg$(_c2, \"GetMessageSuccess\");\n$RefreshReg$(_c3, \"GetMessageError\");\n$RefreshReg$(_c4, \"GetMessage\");\n$RefreshReg$(_c5, \"SendMessageRequest\");\n$RefreshReg$(_c6, \"SendMessageSuccess\");\n$RefreshReg$(_c7, \"SendMessageError\");\n$RefreshReg$(_c8, \"SendMessage\");\n$RefreshReg$(_c9, \"GetInfoUserRequest\");\n$RefreshReg$(_c10, \"GetInfoUserSuccess\");\n$RefreshReg$(_c11, \"GetInfoUserError\");","map":{"version":3,"sources":["C:/Users/RAID/Documents/tugas/pertemuan3/chatify-react/src/Redux/Actions/message.js"],"names":["axios","GetMessageRequest","type","GetMessageSuccess","data","payload","GetMessageError","err","GetMessage","userToken","id","dispatch","get","process","env","REACT_APP_API_URL","headers","then","res","catch","message","SendMessageRequest","SendMessageSuccess","SendMessageError","SendMessage","id_chatroom","id_participiant","formData","method","url","console","log","response","GetInfoUserRequest","GetInfoUserSuccess","GetInfoUserError"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\n\r\nconst GetMessageRequest = () => {return {type: 'GET_MESSAGE_REQUEST'}}\r\nconst GetMessageSuccess = (data) => {return {type : 'GET_MESSAGE_SUCCESS', payload : data}}\r\nconst GetMessageError = (err) => {return{type : 'GET_MESSAGE_ERROR',payload : err}}\r\n\r\nexport const GetMessage = (userToken, id)=>{\r\n    return (dispatch) => {\r\n        dispatch(GetMessageRequest())\r\n        return axios.get(`${process.env.REACT_APP_API_URL}message/?id_chatroom=${id}`,{\r\n            headers: {\r\n                'user-token': userToken\r\n            }\r\n        }).then((res) => {\r\n            dispatch(GetMessageSuccess(res.data.data))\r\n        }).catch((err) => {\r\n            dispatch(GetMessageError(err.message))\r\n        })   \r\n    }\r\n}\r\n\r\nconst SendMessageRequest = () => {return {type: 'SEND_MESSAGE_REQUEST'}}\r\nconst SendMessageSuccess = (data) => {return {type : 'SEND_MESSAGE_SUCCESS', payload : data}}\r\nconst SendMessageError = (err) => {return{type : 'SEND_MESSAGE_ERROR',payload : err}}\r\n\r\nexport const SendMessage = (userToken, id_chatroom,id_participiant,formData)=>{\r\n    return (dispatch)=>{\r\n        dispatch(SendMessageRequest())\r\n        return axios({\r\n            method: 'POST',\r\n            url: `${process.env.REACT_APP_API_URL}message/:${id_participiant}?id_chatroom=${id_chatroom}&id_sender=${id_participiant}`,\r\n            headers : {\r\n                'user-token': userToken\r\n            },\r\n            data : formData\r\n        }).then((res)=>{\r\n            console.log(formData)\r\n            dispatch(SendMessageSuccess(res.data))\r\n        }).catch((err)=>{\r\n            console.log(err.response)\r\n            SendMessageError(err)\r\n        })\r\n    }\r\n}\r\nconst GetInfoUserRequest = () => {return {type: 'GET_MESSAGE_REQUEST'}}\r\nconst GetInfoUserSuccess = (data) => {return {type : 'GET_MESSAGE_SUCCESS', payload : data}}\r\nconst GetInfoUserError = (err) => {return{type : 'GET_MESSAGE_ERROR',payload : err}}"]},"metadata":{},"sourceType":"module"}